import{_ as N}from"./nuxt-link.1b556353.js";import{N as T,u as B,z as V,r as h,n as I,A as M,c as x,b as a,w as n,a as e,E as v,F as k,s as z,t as _,v as w,o as m,d,J as E}from"./entry.ac855e14.js";import{b as u}from"./button.709c95b1.js";const O={key:0,class:"xl:container xl:h-[calc(100vh-65px-106px)] m-auto py-10 xl:px-36 grid xl:grid-cols-2 items-center md:grid-cols-1 px-5 relative"},S={class:"xl:w-[500px]"},A={class:""},D=["src","alt"],J={class:"flex justify-evenly items-center m-10"},L=["src","alt","onClick"],P={class:"flex flex-col gap-36"},R={class:"text-3xl mb-10 mb:text-center"},q={class:"text-red-600 font-semibold"},G={class:"flex items-center gap-5 text-center -mt-20 xl:-mt-0"},H={class:"-mt-20 xl:-mt-0"},K=e("h3",{class:"text-2xl bg-yellow-900 text-center mb-5"},"商品描述",-1),Q={class:"text-white"},U={key:1,class:"xl:container xl:h-[calc(100vh-65px-106px)] m-auto py-10 xl:px-36 px-5 text-center flex items-center justify-center"},W={class:"w-[80%] h-[80%]"},X=e("p",{class:"text-white text-2xl mb-10"},"未找到商品",-1),ot={__name:"[id]",setup(Y){const y=T(),c=B(),o=V({}),p=h(),i=h(1),g=h(!1),j=t=>{p.value=o.images[t]},F=t=>{c.favourite.some(l=>l.id===t.id)?c.removeFromFavourite(t):(console.log(t),c.addToFavourite(t),alert("已加入收藏"))},b=I(()=>(t,s)=>{const l=c.favourite.some(r=>r.id===t);return s?l?"fa-solid":"fa-regular":l?"已收藏":"加入收藏"}),C=t=>{t?i.value++:i.value===1?i.value=1:i.value--},$=t=>{c.cart.some(l=>l.id===t.id)?(c.editCartCount(t,i.value),alert("已修改購物車內數量")):(Object.assign(t,{count:i.value}),c.addToCart(t),alert("已加入購物車"))};return M(()=>{fetch("https://api.escuelajs.co/api/v1/products").then(t=>t.json()).then(t=>{const s=t.find(l=>l.id==y.params.id);s?(Object.assign(o,s),p.value=o.images[0]):g.value=!0}).catch(t=>{console.log(t)})}),(t,s)=>{const l=N;return m(),x(k,null,[o.id?(m(),x("section",O,[a(l,{to:"/products/",class:"xl:absolute xl:top-10 xl:left-36 mb-10"},{default:n(()=>[a(u,null,{default:n(()=>[d("返回商品頁")]),_:1})]),_:1}),e("div",S,[e("div",A,[e("img",{src:v(p),alt:"圖片："+v(p)},null,8,D)]),e("div",J,[(m(!0),x(k,null,z(o.images,(r,f)=>(m(),x("img",{key:f,src:r,alt:"img"+f,class:"w-1/6 object-cover object-center",onClick:Z=>j(f)},null,8,L))),128))])]),e("div",P,[e("div",null,[e("h2",R,_(o.title),1),e("p",q,"$ "+_(o.price)+" 元",1),a(u,{class:"flex items-center justify-center mt-10",onClick:s[0]||(s[0]=r=>F(o))},{default:n(()=>[d(_(b.value(o.id,0))+" ",1),e("i",{class:E(["fa-heart ml-2 text-lg cursor-pointer text-red-500",b.value(o.id,1)])},null,2)]),_:1})]),e("div",G,[a(u,{class:"w-[35px] text-2xl",onClick:s[1]||(s[1]=r=>C(0))},{default:n(()=>[d("－")]),_:1}),e("span",null,_(v(i)),1),a(u,{class:"w-[35px] text-2xl",onClick:s[2]||(s[2]=r=>C(1))},{default:n(()=>[d("＋")]),_:1}),a(u,{class:"ml-5",onClick:s[3]||(s[3]=r=>$(o))},{default:n(()=>[d("加入購物車")]),_:1})]),e("div",H,[K,e("div",null,[e("p",Q,_(o.description),1)])])])])):w("",!0),v(g)?(m(),x("section",U,[e("div",W,[X,a(l,{to:"/products/"},{default:n(()=>[a(u,null,{default:n(()=>[d("返回商品頁")]),_:1})]),_:1})])])):w("",!0)],64)}}};export{ot as default};
