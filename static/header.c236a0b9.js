import{_ as L}from"./nuxt-link.a0ad3982.js";import{_ as V,u as J,y as $,r as E,n,q as M,c as s,a as e,b as c,w as i,v as d,O as x,F as R,s as U,t as p,E as q,o as a,d as m,p as z,e as T}from"./entry.5d0cda90.js";const A=""+new URL("logo.e0632596.png",import.meta.url).href;const f=_=>(z("data-v-79c3b332"),_=_(),T(),_),G={class:"bg-yellow-900/75"},H={class:"flex justify-between xl:container mx-auto text-white px-10"},K={class:"logo py-2"},P=f(()=>e("img",{src:A,alt:"logo",class:"w-28"},null,-1)),Q=f(()=>e("div",{class:"font-mono text-center tracking-wider"},[e("h1",null,"蘭丸串燒"),e("p",{class:"my-1 title-p text-white"},"焼き鳥")],-1)),W={class:"flex items-center"},X={class:"flex items-center gap-12 justify-between text-xl font-medium"},Y={key:0},Z={key:1},ee=["src","alt"],te={key:2},oe=f(()=>e("i",{class:"fa-solid fa-heart",style:{color:"#ff000a"}},null,-1)),se={class:"flex justify-between items-center gap-2 text-sm my-2 border-y-2"},ae={class:"w-[50px] h-[50px]"},re=["src","alt"],le={class:"block break-words w-1/2"},ne=["onClick"],ce={class:"text-center text-red-500 mt-10"},ie={class:"relative"},ue=f(()=>e("i",{class:"fa-solid fa-cart-shopping",style:{color:"#ffffff"}},null,-1)),de={key:0,class:"w-[18px] h-[18px] bg-red-500 rounded-[50px] absolute -top-2 -right-3 flex justify-center items-center text-[14px]"},_e={__name:"header",emits:["loading"],setup(_,{emit:w}){//! ----------宣告引入------------
const t=J(),y=$();E(!1);//! ----------功能------------
const b=async()=>{t.logOut(),alert("登出成功"),y.push("/login")},g=n(()=>!!t.data.userData),k=n(()=>t.favourite.length<=0?"目前沒有任何收藏":null),S=n(()=>!!t.openFavouriteBox),h=()=>{t.openFavouriteBox=!t.openFavouriteBox},F=n(()=>!!t.cart.length>0),C=w,v=n(()=>t.data.userData?t.data.userData:null),D=n(()=>t.favourite?t.favourite:null),I=o=>{t.removeFromFavourite(o)},j=()=>{const o=localStorage.getItem("userData"),u=sessionStorage.getItem("userData");u?t.login(JSON.parse(u)):t.login(JSON.parse(o))},N=()=>{const o=localStorage.getItem("favourite");o&&t.getFavourite(JSON.parse(o))},O=()=>{const o=JSON.parse(localStorage.getItem("cart"));o&&t.getCart(o)};return M(()=>{j(),N(),O(),C("loading",!1)}),(o,u)=>{const l=L;return a(),s("header",G,[e("section",H,[e("div",K,[c(l,{to:"/",class:"text-4xl font-black flex gap-4 items-center"},{default:i(()=>[P,Q]),_:1})]),e("nav",W,[e("ul",X,[e("li",null,[c(l,{to:"/products/"},{default:i(()=>[m("商店")]),_:1})]),g.value?d("",!0):(a(),s("li",Y,[c(l,{to:"/login"},{default:i(()=>[m("登入")]),_:1})])),g.value?(a(),s("li",Z,[c(l,{to:"/user"},{default:i(()=>[e("img",{src:v.value.avatar,alt:v.value.name,class:"w-[50px] h-[50px] rounded-[50px] object-cover object-center"},null,8,ee)]),_:1})])):d("",!0),g.value?(a(),s("li",te,[e("p",{class:"text-white cursor-pointer",onClick:b},"登出")])):d("",!0),e("li",{onClick:h,class:"relative"},[oe,S.value?(a(),s("div",{key:0,class:"bg-white w-[350px] h-[350px] overflow-auto absolute z-10 -right-20 top-12 px-2 border-4 border-yellow-800",onClick:u[0]||(u[0]=x(()=>{},["stop"]))},[e("ul",null,[(a(!0),s(R,null,U(D.value,(r,B)=>(a(),s("li",{key:B},[c(l,{to:`/products/${r.id}`,params:{id:r.id},onClick:h},{default:i(()=>[e("div",se,[e("div",ae,[e("img",{src:r.images[0],alt:r.title,class:"w-full h-full object-cover object-center"},null,8,re)]),e("span",le,p(r.title),1),e("span",null,"$"+p(r.price),1),e("i",{class:"fa-solid fa-trash",style:{color:"#000000"},onClick:x(pe=>I(r),["stop","prevent"])},null,8,ne)])]),_:2},1032,["to","params"])]))),128))]),e("div",ce,p(k.value),1)])):d("",!0)]),e("li",ie,[c(l,{to:"/cart"},{default:i(()=>[ue]),_:1}),F.value?(a(),s("div",de,p(q(t).cart.length),1)):d("",!0)])])])])])}}},he=V(_e,[["__scopeId","data-v-79c3b332"]]);export{he as default};
