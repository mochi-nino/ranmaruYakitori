import{_ as T}from"./nuxt-link.8de5b910.js";import{G as B,u as N,l as V,r as h,f as I,m as M,c as x,b as a,w as n,a as e,s as f,F as k,h as z,t as m,i as w,o as _,d,z as O}from"./entry.78f1c0a1.js";import{u as S}from"./vue.f36acd1f.af229a2c.js";import{b as u}from"./button.93fec5de.js";const D={key:0,class:"xl:container xl:h-[calc(100vh-65px-106px)] m-auto py-10 xl:px-36 grid xl:grid-cols-2 items-center md:grid-cols-1 px-5 relative"},E={class:"xl:w-[500px]"},G={class:""},H=["src","alt"],L={class:"flex justify-evenly items-center m-10"},P=["src","alt","onClick"],R={class:"flex flex-col gap-36"},q={class:"text-3xl mb-10 mb:text-center"},A={class:"text-red-600 font-semibold"},J={class:"flex items-center gap-5 text-center -mt-20 xl:-mt-0"},K={class:"-mt-20 xl:-mt-0"},Q=e("h3",{class:"text-2xl bg-yellow-900 text-center mb-5"},"商品描述",-1),U={class:"text-white"},W={key:1,class:"xl:container xl:h-[calc(100vh-65px-106px)] m-auto py-10 xl:px-36 px-5 text-center flex items-center justify-center"},X={class:"w-[80%] h-[80%]"},Y=e("p",{class:"text-white text-2xl mb-10"},"未找到商品",-1),at={__name:"[id]",setup(Z){const y=B(),c=N(),o=V({}),p=h(),i=h(1),g=h(!1),j=t=>{p.value=o.images[t]},F=t=>{c.favourite.some(l=>l.id===t.id)?c.removeFromFavourite(t):(console.log(t),c.addToFavourite(t),alert("已加入收藏"))},b=I(()=>(t,s)=>{const l=c.favourite.some(r=>r.id===t);return s?l?"fa-solid":"fa-regular":l?"已收藏":"加入收藏"}),C=t=>{t?i.value++:i.value===1?i.value=1:i.value--},$=t=>{c.cart.some(l=>l.id===t.id)?(c.editCartCount(t,i.value),alert("已修改購物車內數量")):(Object.assign(t,{count:i.value}),c.addToCart(t),alert("已加入購物車"))};return M(()=>{fetch("https://api.escuelajs.co/api/v1/products").then(t=>t.json()).then(t=>{const s=t.find(l=>l.id==y.params.id);s?(Object.assign(o,s),p.value=o.images[0],S({title:`蘭丸燒烤 | ${o.title}`,meta:[{name:"description",content:"description"}]})):g.value=!0}).catch(t=>{console.log(t)})}),(t,s)=>{const l=T;return _(),x(k,null,[o.id?(_(),x("section",D,[a(l,{to:"/products/",class:"xl:absolute xl:top-10 xl:left-36 mb-10"},{default:n(()=>[a(u,null,{default:n(()=>[d("返回商品頁")]),_:1})]),_:1}),e("div",E,[e("div",G,[e("img",{src:f(p),alt:"圖片："+f(p)},null,8,H)]),e("div",L,[(_(!0),x(k,null,z(o.images,(r,v)=>(_(),x("img",{key:v,src:r,alt:"img"+v,class:"w-1/6 object-cover object-center",onClick:tt=>j(v)},null,8,P))),128))])]),e("div",R,[e("div",null,[e("h2",q,m(o.title),1),e("p",A,"$ "+m(o.price)+" 元",1),a(u,{class:"flex items-center justify-center mt-10",onClick:s[0]||(s[0]=r=>F(o))},{default:n(()=>[d(m(b.value(o.id,0))+" ",1),e("i",{class:O(["fa-heart ml-2 text-lg cursor-pointer text-red-500",b.value(o.id,1)])},null,2)]),_:1})]),e("div",J,[a(u,{class:"w-[35px] text-2xl",onClick:s[1]||(s[1]=r=>C(0))},{default:n(()=>[d("－")]),_:1}),e("span",null,m(f(i)),1),a(u,{class:"w-[35px] text-2xl",onClick:s[2]||(s[2]=r=>C(1))},{default:n(()=>[d("＋")]),_:1}),a(u,{class:"ml-5",onClick:s[3]||(s[3]=r=>$(o))},{default:n(()=>[d("加入購物車")]),_:1})]),e("div",K,[Q,e("div",null,[e("p",U,m(o.description),1)])])])])):w("",!0),f(g)?(_(),x("section",W,[e("div",X,[Y,a(l,{to:"/products/"},{default:n(()=>[a(u,null,{default:n(()=>[d("返回商品頁")]),_:1})]),_:1})])])):w("",!0)],64)}}};export{at as default};
