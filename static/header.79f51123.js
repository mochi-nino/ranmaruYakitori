import{_ as V}from"./nuxt-link.494ded3b.js";import{_ as $,H as B,r as J,n as d,q as M,c as l,a as t,b as c,w as i,u as _,N as m,F as R,s as U,t as f,B as q,o as r,d as x,p as z,e as E}from"./entry.dc536120.js";import{u as H}from"./index.a78bb551.js";const T=""+new URL("logo.e0632596.png",import.meta.url).href;const g=p=>(z("data-v-63628933"),p=p(),E(),p),A={class:"bg-yellow-900/75"},G={class:"flex justify-between xl:container mx-auto text-white px-10"},K={class:"logo py-2"},P=g(()=>t("img",{src:T,alt:"logo",class:"w-28"},null,-1)),Q=g(()=>t("div",{class:"font-mono text-center tracking-wider"},[t("h1",null,"蘭丸串燒"),t("p",{class:"my-1 title-p text-white"},"焼き鳥")],-1)),W={class:"flex items-center"},X={class:"flex items-center gap-12 justify-between text-xl font-medium"},Y={key:0},Z={key:1},tt=["src","alt"],et={key:2},st=g(()=>t("i",{class:"fa-solid fa-heart",style:{color:"#ff000a"}},null,-1)),ot={class:"flex justify-between items-center gap-2 text-sm my-2 border-y-2"},at={class:"w-[50px] h-[50px]"},lt=["src","alt"],rt={class:"block break-words w-1/2"},nt=["onClick"],ct={class:"text-center text-red-500 mt-10"},it={class:"relative"},ut=g(()=>t("i",{class:"fa-solid fa-cart-shopping",style:{color:"#ffffff"}},null,-1)),dt={key:0,class:"w-[18px] h-[18px] bg-red-500 rounded-[50px] absolute -top-2 -right-3 flex justify-center items-center text-[14px]"},_t={__name:"header",emits:["loading"],setup(p,{emit:w}){//! ----------宣告引入------------
const e=H(),y=B(),u=J(!1);//! ----------功能------------
const b=async()=>{e.logOut(),alert("登出成功"),y.push("/login")},v=d(()=>!!e.data.userData),k=d(()=>e.favourite.length<=0?"目前沒有任何收藏":null),S=d(()=>!!e.cart.length>0),C=w,h=d(()=>e.data.userData?e.data.userData:null),F=d(()=>e.favourite?e.favourite:null),D=s=>{e.removeFromFavourite(s)},I=()=>{const s=localStorage.getItem("userData"),o=sessionStorage.getItem("userData");o?e.login(JSON.parse(o)):e.login(JSON.parse(s))},N=()=>{const s=localStorage.getItem("favourite");s&&e.getFavourite(JSON.parse(s))},j=()=>{const s=JSON.parse(localStorage.getItem("cart"));s&&e.getCart(s)};return M(()=>{I(),N(),j(),C("loading",!1)}),(s,o)=>{const n=V;return r(),l("header",A,[t("section",G,[t("div",K,[c(n,{to:"/",class:"text-4xl font-black flex gap-4 items-center"},{default:i(()=>[P,Q]),_:1})]),t("nav",W,[t("ul",X,[t("li",null,[c(n,{to:"/products/"},{default:i(()=>[x("商店")]),_:1})]),v.value?_("",!0):(r(),l("li",Y,[c(n,{to:"/login"},{default:i(()=>[x("登入")]),_:1})])),v.value?(r(),l("li",Z,[c(n,{to:"/user"},{default:i(()=>[t("img",{src:h.value.avatar,alt:h.value.name,class:"w-[50px] h-[50px] rounded-[50px] object-cover object-center"},null,8,tt)]),_:1})])):_("",!0),v.value?(r(),l("li",et,[t("p",{class:"text-white cursor-pointer",onClick:b},"登出")])):_("",!0),t("li",{onClick:o[2]||(o[2]=a=>u.value=!u.value),class:"relative"},[st,u.value?(r(),l("div",{key:0,class:"bg-white w-[350px] h-[350px] overflow-auto absolute z-10 -right-20 top-12 px-2 border-4 border-yellow-800",onClick:o[1]||(o[1]=m(()=>{},["stop"]))},[t("ul",null,[(r(!0),l(R,null,U(F.value,(a,L)=>(r(),l("li",{key:L},[c(n,{to:`/products/${a.id}`,params:{id:a.id},onClick:o[0]||(o[0]=O=>u.value=!u.value)},{default:i(()=>[t("div",ot,[t("div",at,[t("img",{src:a.images[0],alt:a.title,class:"w-full h-full object-cover object-center"},null,8,lt)]),t("span",rt,f(a.title),1),t("span",null,"$"+f(a.price),1),t("i",{class:"fa-solid fa-trash",style:{color:"#000000"},onClick:m(O=>D(a),["stop","prevent"])},null,8,nt)])]),_:2},1032,["to","params"])]))),128))]),t("div",ct,f(k.value),1)])):_("",!0)]),t("li",it,[c(n,{to:"/cart"},{default:i(()=>[ut]),_:1}),S.value?(r(),l("div",dt,f(q(e).cart.length),1)):_("",!0)])])])])])}}},vt=$(_t,[["__scopeId","data-v-63628933"]]);export{vt as default};
