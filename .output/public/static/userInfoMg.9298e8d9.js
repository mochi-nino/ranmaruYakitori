import{_ as T,h as w,r as h,i as N,j as $,c as a,b as d,a as l,l as V,m as k,o as n,t as v,w as u,q as A,x as j,d as b,p as D,e as E,g as G,F as P}from"./entry.eef69a39.js";import{b as q}from"./backSlider.7be06f02.js";import{b as y}from"./button.06041305.js";import"./nuxt-link.912060e2.js";const z=i=>(D("data-v-1cb77870"),i=i(),E(),i),J={class:"flex items-center gap-24 h-[100vh] w-[90%] m-auto"},L={class:"text-xl bg-slate-100 w-full relative"},O=z(()=>l("h1",{class:"bg-yellow-900 py-3 text-center text-3xl"},"會員管理",-1)),H={class:"grid grid-cols-[100px,1fr,1fr,1fr,150px] items-center justify-center text-center border-y-2 border-black p-2 mb-2"},K={class:"h-[800px] overflow-y-auto overflow-x-hidden",id:"scrollArea"},Q={class:"flex justify-center items-center relative"},R={class:"relative"},W=["onMouseover"],X={key:1,class:"absolute text-sm bg-amber-200 p-1 w-[200px] -left-2 top-5"},Y={class:"px-2 py-[2px] text-center"},Z={class:"w-[90%] m-auto"},ee={class:"w-[90%] m-auto"},te={class:"w-[90%] m-auto"},oe={key:0,class:"m-auto px-2"},le={key:1,class:"flex items-center justify-center gap-4"},se={__name:"userInfoMg",setup(i){const C=w(["會員編號","會員信箱","會員名稱","創建日期","",""]),r=w([]),c=h(""),m=h(!1),_=h(0),I=(t,o)=>{_.value=o,_.value===o&&(m.value=!0)},g=(t,o)=>{t?c.value="":c.value=o},S=t=>t.substring(0,10),U=N(()=>t=>c.value===t?"bg-yellow-700/30":null),M=async t=>{await fetch(`https://api.escuelajs.co/api/v1/users/${t.id}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(o=>o.json()).then(o=>{o.message?(alert("權限不足，該會員無法進行修改，請修改 * 以外的會員"),x(),c.value=""):(alert("修改成功"),x(),c.value="")}).catch(o=>{console.log(o)})},x=()=>{fetch("https://api.escuelajs.co/api/v1/users").then(t=>t.json()).then(t=>{r.length=0,r.push(...t)}).catch(t=>{console.log(t)})},B=t=>{M(t)};return $(()=>{x(),console.log(r)}),(t,o)=>{const f=G,F=P;return n(),a("section",J,[d(q),l("div",L,[O,l("ul",null,[l("li",H,[(n(!0),a(V,null,k(C,(e,p)=>(n(),a("p",{key:p},v(e),1))),128))]),l("li",K,[(n(!0),a(V,null,k(r,(e,p)=>(n(),a("div",{key:p},[d(F,{onSubmit:B},{default:u(()=>[l("div",{class:A(["mb-4 grid grid-cols-[100px,1fr,1fr,1fr,150px] items-center justify-center text-center px-2 text-lg h-[100px]",U.value(e.id)])},[l("div",Q,[l("div",R,[e.id===1||e.id===2||e.id===3?(n(),a("p",{key:0,class:"text-red-600 cursor-help absolute -top-3 -left-2",onMouseover:s=>I(p,e.id),onMouseout:o[0]||(o[0]=s=>m.value=!1)}," * ",40,W)):j("",!0),_.value===e.id&&m.value?(n(),a("p",X," API預設為無法變更此會員資料 ")):j("",!0)]),l("p",Y,v(e.id),1),d(f,{type:"text",name:"id",class:"hidden px-2 py-[2px] text-center w-full",disabled:"true",modelValue:e.id,"onUpdate:modelValue":s=>e.id=s},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Z,[d(f,{type:"text",name:"email",placeholder:e.email,class:"block px-2 py-[2px] text-center w-full",disabled:c.value!==e.id,modelValue:e.email,"onUpdate:modelValue":s=>e.email=s},null,8,["placeholder","disabled","modelValue","onUpdate:modelValue"])]),l("div",ee,[d(f,{type:"text",name:"name",placeholder:e.name,class:"block px-2 py-[2px] text-center w-full",disabled:c.value!==e.id,modelValue:e.name,"onUpdate:modelValue":s=>e.name=s},null,8,["placeholder","disabled","modelValue","onUpdate:modelValue"])]),l("div",te,[l("p",null,v(S(e.creationAt)),1)]),c.value!==e.id?(n(),a("div",oe,[d(y,{class:"!w-[50px] !text-lg",type:"button",onClick:s=>g(0,e.id)},{default:u(()=>[b("更改")]),_:2},1032,["onClick"])])):(n(),a("div",le,[d(y,{class:"!w-[50px] !text-lg"},{default:u(()=>[b("確定")]),_:1}),d(y,{class:"!w-[50px] !text-lg",type:"button",onClick:s=>g(1,e.id)},{default:u(()=>[b("取消")]),_:2},1032,["onClick"])]))],2)]),_:2},1024)]))),128))])])])])}}},ie=T(se,[["__scopeId","data-v-1cb77870"]]);export{ie as default};
