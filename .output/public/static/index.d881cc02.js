import{_ as b}from"./nuxt-link.4ba1f96a.js";import{u as j}from"./vue.f36acd1f.fe5c47bb.js";import{b as d}from"./button.45109d97.js";import{u as $,r as F,f as _,g as B,c as p,a as t,F as N,h as T,i as C,d as c,t as n,b as i,w as r,j as V,o as u}from"./entry.c7e37595.js";const M={class:"xl:w-[1280px] m-auto py-10"},P={class:"w-[90%] mx-auto"},I=t("h2",{class:"text-3xl text-center bg-yellow-900/75 py-3"},"購物車",-1),L={class:"bg-white"},S=t("li",{class:"grid grid-cols-6 justify-between items-center py-5 px-2 text-center font-bold text-lg"},[t("div",{class:"mr-2 xl:w-[150px]"}),t("p",null,"名稱"),t("p",null,"單價"),t("p",null,"數量"),t("p",null,"總價"),t("p",null,"刪除")],-1),A={class:"mr-2 xl:w-[150px] xl:h-[150px]"},D=["src","alt"],E={class:"text-black text-center"},H={class:"text-center"},q={class:"flex justify-center items-center gap-1 xl:gap-5"},z={class:"text-center"},G={class:"text-center xl:px-10"},J=["onClick"],K={class:"text-2xl text-white text-right bg-yellow-900/75 py-2 px-5 tracking-wider"},O={class:"text-red-500 font-bold"},Q={class:"text-right mt-10"},Z={__name:"index",setup(R){const a=$(),x=F([]),h=_(()=>a.cart.length>0?(x.value=a.cart,!0):!1),f=(o,l,s)=>{o?(console.log(l),s++,a.editCartCount(l,s)):s<=1?a.removeFromCart(l):(s--,a.editCartCount(l,s))},w=o=>{a.removeFromCart(o)},m=_(()=>x.value.reduce((o,{price:l,count:s})=>o+l*s,0)),v=_(()=>{const o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let l="";for(let s=0;s<12;s++){const e=Math.floor(Math.random()*o.length);l+=o.charAt(e)}return l}),k=()=>{const o=m;a.getCartTotalPrice(o)};return j({title:"蘭丸燒烤 | 購物車",meta:[{name:"description",content:"description"}]}),B(()=>{}),(o,l)=>{const s=b;return u(),p("section",M,[t("div",P,[I,t("ul",L,[S,h.value?(u(!0),p(N,{key:0},T(x.value,(e,y)=>(u(),p("li",{key:y,class:"grid grid-cols-6 justify-between items-center p-2"},[t("div",A,[t("img",{src:e.images[0],alt:e.title,class:"w-full h-full object-cover object-center"},null,8,D)]),t("h3",E,n(e.title),1),t("div",H,[t("p",null,"$"+n(e.price),1)]),t("div",q,[i(d,{class:"w-[30px] h-[20px] xl:text-2xl xl:w-[35px]",onClick:g=>f(0,e,e.count)},{default:r(()=>[c("－")]),_:2},1032,["onClick"]),t("p",null,n(e.count),1),i(d,{class:"w-[30px] h-[20px] xl:text-2xl xl:w-[35px]",onClick:g=>f(1,e,e.count)},{default:r(()=>[c("＋")]),_:2},1032,["onClick"])]),t("div",z,[t("p",null,"$"+n(e.price*e.count),1)]),t("div",G,[t("i",{class:"fa-solid fa-trash",style:{color:"#000000"},onClick:g=>w(e)},null,8,J)])]))),128)):C("",!0)]),t("div",K,[c(" 小計$ "),t("span",O,n(m.value),1),c(" 元 ")]),t("div",Q,[i(s,{to:"/products"},{default:r(()=>[i(d,{class:"mr-5"},{default:r(()=>[c("繼續購物")]),_:1})]),_:1}),h.value?(u(),V(s,{key:0,to:`/cart/payment/${v.value}`,params:{id:v.value}},{default:r(()=>[i(d,{class:"mr-5",onClick:k},{default:r(()=>[c("前往結帳")]),_:1})]),_:1},8,["to","params"])):C("",!0)])])])}}};export{Z as default};
